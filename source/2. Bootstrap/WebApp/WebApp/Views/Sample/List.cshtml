@using WebApp.Repositories

@{
    ViewData["Title"] = "Samples - List";
}
<h2>@ViewData["Title"]</h2>

<div class="btn-group" role="group" style="margin-bottom: 3px">
    <button type="button" class="btn btn-default">
        <span class="glyphicon glyphicon-plus"></span>
        New
    </button>
    <button type="button" class="btn btn-default">
        <span class="glyphicon glyphicon-edit"></span>
        Edit
    </button>
    <button type="button" class="btn btn-default">
        <span class="glyphicon glyphicon-remove"></span>
        Delete
    </button>
    <button type="button" class="btn btn-default">
        <span class="glyphicon glyphicon-refresh"></span>
        Refresh
    </button>
</div>

<table id="tblPerson" class="table table-hover table-bordered table-condensed">
    <thead>
        <tr>
            <th>ID</th>
            <th>First name</th>
            <th>Last name</th>
            <th>Email</th>
            <th>Gender</th>
            <th>IP Address</th>
        </tr>
    </thead>
    <tbody />
</table>

<nav aria-label="...">
    <ul class="pagination">
        <li class="disabled"><a href="#" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a></li>
        <li class="active"><a href="#">1 <span class="sr-only">(current)</span></a></li>
        <li><a href="#">2</a></li>
        <li><a href="#">3</a></li>
        <li><a href="#">4</a></li>
        <li><a href="#">5</a></li>
        <li>
            <a href="#" aria-label="Next">
                <span aria-hidden="true">»</span>
            </a>
        </li>
    </ul>
</nav>

@section Scripts {
    <script type="text/javascript">
        $(function () {
            LoadPersonList();
        });

        function LoadPersonList() {
            $.get('/api/data/person-list', function (data) {
                var rows = '';
                $.each(data, function (index, item) {
                    rows +=
                        '<tr>' +
                            '<td>' + item.id + '</td>' +
                            '<td>' + item.first_name + '</td>' +
                            '<td>' + item.last_name + '</td>' +
                            '<td>' + item.email + '</td>' +
                            '<td>' + item.gender + '</td>' +
                            '<td>' + item.ip_address + '</td>' +
                        '</tr>';
                });
                $("#tblPerson tbody").html(rows);
                console.log(rows);
            });
        }
    </script>
}